# Supabase Setup Guide

## 1. Project Setup

1. Go to [Supabase](https://supabase.com) and create a new project.
2. Note down your `Project URL` and `anon public key` from Settings > API.

## 2. Environment Variables

Create a file named `.env` in the root of your `gaja-auction-app` folder and add these lines:

```
VITE_SUPABASE_URL=your_project_url_here
VITE_SUPABASE_ANON_KEY=your_anon_key_here
```

## 3. Database Schema (SQL)

Go to the **SQL Editor** in your Supabase dashboard and run the following queries to create the necessary tables:

### Listings Table

```sql
create table listings (
  id bigint generated by default as identity primary key,
  title text not null,
  location text,
  appraisal text, -- Stored as string e.g. "12억 5,000만"
  min_price text,
  category text,
  status text, -- 'In Progress', 'Completed'
  img text,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);
```

### Inquiries Table

```sql
create table inquiries (
  id bigint generated by default as identity primary key,
  name text,
  phone text,
  interest text, -- 'NPL', 'Auction'
  budget text,
  message text,
  status text default 'New', -- 'New', 'Contacted', 'Pending'
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);
```

### Partners Table

```sql
create table partners (
  id bigint generated by default as identity primary key,
  name text,
  type text, -- 'Law', 'Finance', 'Construction'
  description text,
  logo text,
  contact text,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);
```

### VIPs Table

```sql
create table vips (
  id bigint generated by default as identity primary key,
  name text,
  phone text,
  grade text, -- 'Black', 'Platinum', 'Gold'
  notes text,
  joined_date date,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);
```

## 4. Switching to SupabaseManager

In your application code (e.g. `App.jsx` or where mock data is loaded), modify the import:

```javascript
// BEFORE
// import DataManager from './utils/DataManager';

// AFTER
import DataManager from './utils/SupabaseManager';
```

*(Note: You might need to refactor slightly as Supabase calls are asynchronous `async/await`, while DataManager was synchronous. You will need to add `await` or `.then()` to the calls.)*
